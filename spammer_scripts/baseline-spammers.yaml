# https://github.com/ethpandaops/spamoor/blob/master/scenarios/eoatx/README.md
- scenario: eoatx
  name: "EOA transfers"
  description: "Basic ETH transfers with tx/slot throughput"
  config:
    seed: eoatx-baseline
    refill_amount: 1000000000000000000  # 1 ETH in wei
    refill_balance: 500000000000000000  # 0.5 ETH threshold
    refill_interval: 600  # 10 minutes
    throughput: 200       # transactions per slot
    max_pending: 800      # max pending transactions
    max_wallets: 200      # number of wallets to use
    base_fee: 20          # base fee in gwei
    tip_fee: 2            # priority fee in gwei
    amount: 100           # transfer amount in wei as limit for random
    random_amount: true   # randomize transfer amounts
    random_target: true   # randomize target addresses
    rebroadcast: 60       # Seconds to wait before rebroadcasting
    log_txs: true

# https://github.com/ethpandaops/spamoor/blob/master/scenarios/erctx/README.md
- scenario: erctx
  name: "ERC-20 transfers"
  description: "Deploy ERC20 contracts and transfer tokens"
  config:
    seed: erctx-baseline
    refill_amount: 2000000000000000000  # 2 ETH
    refill_balance: 1000000000000000000 # 1 ETH threshold
    refill_interval: 300
    throughput: 100       # lower throughput for contract interactions
    max_pending: 200
    max_wallets: 100
    base_fee: 20
    tip_fee: 2
    amount: 50            # token transfer amount
    random_amount: true
    random_target: true
    rebroadcast: 60
    log_txs: true

# # Blob transactions
# # https://github.com/ethpandaops/spamoor/blob/master/scenarios/blobs-combined/README.md
# # (EIP-4844)
# - scenario: blobs
#   name: "Blob transaction"
#   description: "Simple blob transaction scenario"
#   config:
#     seed: blobs-baseline

#     # --- wallet auto-refill (wei) ---
#     refill_amount: 5000000000000000000      # 5 ETH top-up
#     refill_balance: 3000000000000000000     # top-up when < 3 ETH
#     refill_interval: 300                    # check every 5 min

#     # --- pacing ---
#     throughput: 1                           # tx/sec
#     max_pending: 50                         # small pipeline so we don't stall

#     # --- submission / rebroadcast ---
#     submit_count: 1                         # match your actual number of RPCs
#     rebroadcast: 30

#     # --- blobs per transaction ---
#     sidecars: 2                             # number of blobs per tx (1â€“6)

#     # --- fees (gwei caps) ---
#     blob_fee: 40                            # = max_fee_per_blob_gas cap
#     base_fee: 25                            # = maxFeePerGas cap
#     tip_fee: 2                              # = maxPriorityFeePerGas

#     # --- logging ---
#     log_txs: true


# # Deploy Smart Contract
# # https://github.com/ethpandaops/spamoor/tree/master/scenarios/deploytx
# - scenario: calltx
#   name: "NonFungibleAssetRegistry spammer"
#   description: "Deploys the registry and repeatedly calls create/transfer"
#   config:
#     seed: calltx-registry
#     submit_count: 1
#     throughput: 2
#     max_pending: 50
#     rebroadcast: 30

#     contract_source: "https://raw.githubusercontent.com/Treymsby/eth-network/refs/heads/main/spammer_scripts/contracts/NonFungibleAssetRegistry.sol"
#     contract_name: "SimpleAssetRegistry"
#     deploy:
#       count: 1
#       gas_limit: 4000000

#     calls:
#       - name: createAsset
#         method: "createAsset(string)"
#         args: ["spam asset ${seq} from ${wallet.address}"]
#         repeat: true
#         throughput: 1
#         max_pending: 30

#       - name: transferAsset
#         method: "transferAsset(uint256,address)"
#         args: ["${last_asset_id}", "${random_wallet}"]
#         repeat: true
#         throughput: 0.25
#         max_pending: 10

# - scenario: calltx
#   name: "TimeLockPayment spammer"
#   description: "Deploys a timelock with funds and repeatedly calls release()"
#   config:
#     seed: calltx-timelock
#     submit_count: 1
#     throughput: 1
#     max_pending: 25
#     rebroadcast: 30

#     contract_source: "https://raw.githubusercontent.com/Treymsby/eth-network/refs/heads/main/spammer_scripts/contracts/TimeLockPayment.sol"
#     contract_name: "TimeLock"
#     deploy:
#       count: 1
#       value: 10000000000000000     # 0.01 ETH
#       constructor_args:
#         - "${wallet.address}"      # payee
#         - "${now_unix_plus:60}"    # releaseTime = now + 60s
#       gas_limit: 300000

#     calls:
#       - name: release_attempt
#         method: "release()"
#         args: []
#         repeat: true
#         throughput: 0.5
#         max_pending: 10

#- include: https://raw.githubusercontent.com/Treymsby/eth-network/refs/heads/main/spammer_scripts/stress-spammers.yaml